<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="el">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <!--todo SET TITLE-->
    <link rel="stylesheet" th:href="@{/css/style.css}"
          href="../../css/style.css"/>
    <script src="http://maps.googleapis.com/maps/api/js?key=AIzaSyDjTX860kQg89dVAzGnRUTXAgkcLJ6JH2o&amp;sensor=false"></script>
    <script th:inline="javascript">
        /*<![CDATA[*/
        var latitude = [[${ticket.latitude}]];
        var longitude = [[${ticket.longitude}]];
        /*]]>*/
    </script>
    <script> function initialize() {
        var googleFormatLatLng = new google.maps.LatLng(latitude, longitude);
        var mapProp = {
            center: googleFormatLatLng,
            zoom: 17,
            mapTypeId: google.maps.MapTypeId.ROADMAP
        };
        var map = new google.maps.Map(document.getElementById("googleMap"), mapProp);

        var marker = new google.maps.Marker({
            position: googleFormatLatLng,
            map: map,
        });
    }
    google.maps.event.addDomListener(window, 'load', initialize); </script>
</head>

<body>
<h1 th:text="'Μήνυμα με αριθμό : ' + ${ticket.id}"></h1>
<div>
    <p th:text="${ticket.message}"></p>
</div>
<!--FIXME : 2 requests for the same resource are sent here.-->
<a th:href="@{/image(id=${ticket.id})}">
    <img width="180px" height="180px" th:src="@{/image(id=${ticket.id})}"/>
</a>
<div id="googleMap" style="width:600px;height:456px;"></div>

</body>
</html>